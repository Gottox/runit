<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>runit - minimal replacement for sysvinit</title>
</head>
<body>
<a href="http://innominate.org/~pape/">G. Pape</a>
<hr>
<h1>runit - minimal replacement for <i>sysvinit</i></h1>
<hr>
<a href="install.html">How to install runit</a><br>
<a href="replaceinit.html">How to replace init</a>
<p>
<a href="runit.8.html">The <tt>runit</tt> program</a><br>
<a href="runit-init.8.html">The <tt>runit-init</tt> program</a><br>
<a href="runit-halt.8.html">The <tt>runit-halt</tt> program</a><br>
<a href="runit-reboot.8.html">The <tt>runit-reboot</tt> program</a>
<hr>
<i>runit</i> cooperates with djb's
<a href="http://cr.yp.to/daemontools.html">daemontools</a> package to create
a replacement for
<a href="ftp://ftp.cistron.nl/pub/people/miquels/sysvinit/">sysvinit</a>.
<i>runit</i> currently runs on
<a href="http://www.debian.org">Debian GNU/Linux</a> but may be easily
adapted to other unix operating systems using glibc. If <i>runit</i> runs for
you on any other operating system or linux distribution, please let me know.
<p>
<b>Warning:</b> Replacing <i>sysvinit</i> can cause the system's boot to fail.
Make sure you are able to recover and repair your system, for example if you
run a bootloader, it should be able to pass <tt>init=/bin/sh</tt> to the
kernel.
<hr>
The command <a href="runit.8.html">runit</a> is intended to run as Unix
process no 1, it is automatically started by the
<a href="runit-init.8.html">runit-init</a> replacement if this is started
by the kernel.
<p>
<a href="runit.8.html">runit</a> performs the system's <i>booting</i>,
<i>running</i> and <i>shutting down</i> in <b>three stages</b>:
<ul>
  <li><b>Stage 1:</b><br>
  <i>runit</i> starts <tt>/etc/runit/1</tt> and waits for it to
  terminate. The system's one time tasks are done here.
  <li><b>Stage 2:</b><br>
  <i>runit</i> starts <tt>/etc/runit/2</tt> which should not return
  until the system is going to halt or reboot, if it crashes, it will be
  restarted. Normally, <tt>/etc/runit/2</tt> runs
  <a href="http://cr.yp.to/daemontools/svscanboot.html">svscanboot</a>.
  In Stage 2, <i>runit</i> is able to handle the ctrl-alt-del keyboard
  request.
  <li><b>Stage 3:</b><br>
  If <i>runit</i> is told to halt or reboot the system, or the Stage 2
  returns without errors, it terminates Stage 2 if it is running and runs
  <tt>/etc/runit/3</tt>. The systems tasks to shutdown and halt or
  reboot are done here.
</ul>
These are working examples for debian woody:
<a href="debian/1">/etc/runit/1</a>,
<a href="debian/2">/etc/runit/2</a>,
<a href="debian/3">/etc/runit/3</a>.
<p>
The command <a href="runit-init.8.html">runit-init</a> is intended to replace
<tt>/sbin/init</tt>. sysvinit's command <tt>shutdown</tt> will keep working.
Runlevels are not implemented in this Unix process no 1, such can easily be
done in other programs, see
<a href="http://innominate.org/~pape/djb/daemontools/noinit.html">
Dependencies and runlevels</a>
for an example, the amount of code in process no 1 should be minimal.
<hr>
See <a href="replaceinit.html">How to replace init</a> for smoothly migrating
from <i>sysvinit</i>.
<hr>
See <a href="http://innominate.org/~pape/runit/">
http://innominate.org/~pape/runit/</a>
for recent informations.
<hr>
<address><a href="mailto:pape@smarden.org">
Gerrit Pape &lt;pape@smarden.org&gt;
</a></address>
<small>$Id$</small>
</body>
</html>
